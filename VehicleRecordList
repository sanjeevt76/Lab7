import javax.swing.JOptionPane;


public class VehicleRecordList {
	private VehicleRecord list [];
	private int maxSize;
	private int size;


	public VehicleRecordList() {
		this.maxSize = 10;
		this.size = 0;
		this.list = new VehicleRecord[maxSize];
	}

	public boolean insert (VehicleRecord record){
		if (size < maxSize){
			size++;
			list [size-1] = record;
			return true;
		}
		return false;
	}

	// method to get list
	private VehicleRecord [] getList (){
		return this.list;
	}

	// method to get size
	private int getSize(){
		return this.size;
	}

	public boolean delete(VehicleRecord record){
		for (int where = 0; where < size; where++){
			if (list[where].getMake().equalsIgnoreCase(record.getMake())){
				list[where] = list[size-1]; // puts last one in my spot
				size--;   // decrease size of list
				return true;
			}
		}
		return false;
	}

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		VehicleRecordList vehicleList = new VehicleRecordList();

		while(true){
			char command;
			command = JOptionPane.showInputDialog(null,
					"i - insert a vehicle\n" + 
					"d - deletes a vehicle\n" + 
					"p - print the list\n").charAt(0);
			switch (command){
			case 'i':{ 
				String record = JOptionPane.showInputDialog(null, 
						"Enter <make>,<model>,<year>,<type>",
						"Toyota,Sienna,2016,v");
				VehicleRecord vInfo = new VehicleRecord();
				vInfo.processVehicle(record);
				if (!vehicleList.insert(vInfo)){
					JOptionPane.showMessageDialog(null, "not added");
				}
				else{
					JOptionPane.showMessageDialog(null, "success");
				}
				break;
			}
			
			case 'd':{
				String record = JOptionPane.showInputDialog(null, 
						"Enter record to delete",
						"Toyota,Sienna,2016,v");
				VehicleRecord vInfo = new VehicleRecord();
				vInfo.processVehicle(record);
				if (!vehicleList.delete(vInfo)){
					JOptionPane.showMessageDialog(null, "record not found");
				}
				else{
					JOptionPane.showMessageDialog(null, "record deleted");
				}
				break;
			}
			case 'p':{
				VehicleRecord [] myRecords = vehicleList.getList();
				String output = "";
				for (int i = 0; i < vehicleList.getSize(); i++){
					output += myRecords[i] + "\n";
				}
				if (output == "")
					JOptionPane.showMessageDialog(null, "List is empty");
				else
					JOptionPane.showMessageDialog(null, output);
				break;
			}

			}

		}
	}
}
